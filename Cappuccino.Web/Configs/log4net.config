<?xml version="1.0" encoding="utf-8" ?>
<log4net>
    <!-- 定义日志级别对应的文件夹存储策略 -->
    <logger name="LogHelper">
        <level value="DEBUG" />
        <appender-ref ref="DebugAppender" />
        <appender-ref ref="InfoAppender" />
        <appender-ref ref="WarnAppender" />
        <appender-ref ref="ErrorAppender" />
        <appender-ref ref="FatalAppender" />
    </logger>

    <!-- DEBUG级别日志（单独文件夹） -->
    <appender name="DebugAppender" type="log4net.Appender.RollingFileAppender">
        <file value="App_Data\\Logs\\Debug\\" />
        <appendToFile value="true"/>
        <rollingStyle value="Composite"/>
        <DatePattern value="yyyy-MM-dd HH'.log'"/>
        <MaxSizeRollBackups value="1000"/>
        <MaximumFileSize value="500KB"/>
        <StaticLogFileName value="false"/>
        <!-- 仅记录DEBUG级别日志 -->
        <filter type="log4net.Filter.LevelRangeFilter">
            <levelMin value="DEBUG" />
            <levelMax value="DEBUG" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%n【记录时间】%date%n【描述】%message%n"/>
        </layout>
    </appender>

    <!-- INFO级别日志（单独文件夹） -->
    <appender name="InfoAppender" type="log4net.Appender.RollingFileAppender">
        <file value="App_Data\\Logs\\Info\\" />
        <appendToFile value="true"/>
        <rollingStyle value="Composite"/>
        <DatePattern value="yyyy-MM-dd HH'.log'"/>
        <MaxSizeRollBackups value="1000"/>
        <MaximumFileSize value="500KB"/>
        <StaticLogFileName value="false"/>
        <!-- 仅记录INFO级别日志 -->
        <filter type="log4net.Filter.LevelRangeFilter">
            <levelMin value="INFO" />
            <levelMax value="INFO" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%n【记录时间】%date%n【描述】%message%n"/>
        </layout>
    </appender>

    <!-- WARN级别日志（单独文件夹） -->
    <appender name="WarnAppender" type="log4net.Appender.RollingFileAppender">
        <file value="App_Data\\Logs\\Warn\\" />
        <appendToFile value="true"/>
        <rollingStyle value="Composite"/>
        <DatePattern value="yyyy-MM-dd HH'.log'"/>
        <MaxSizeRollBackups value="1000"/>
        <MaximumFileSize value="500KB"/>
        <StaticLogFileName value="false"/>
        <!-- 仅记录WARN级别日志 -->
        <filter type="log4net.Filter.LevelRangeFilter">
            <levelMin value="WARN" />
            <levelMax value="WARN" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%n【记录时间】%date%n【描述】%message%n"/>
        </layout>
    </appender>

    <!-- ERROR级别日志（单独文件夹） -->
    <appender name="ErrorAppender" type="log4net.Appender.RollingFileAppender">
        <file value="App_Data\\Logs\\Error\\" />
        <appendToFile value="true"/>
        <rollingStyle value="Composite"/>
        <DatePattern value="yyyy-MM-dd HH'.log'"/>
        <MaxSizeRollBackups value="1000"/>
        <MaximumFileSize value="500KB"/>
        <StaticLogFileName value="false"/>
        <!-- 仅记录ERROR级别日志 -->
        <filter type="log4net.Filter.LevelRangeFilter">
            <levelMin value="ERROR" />
            <levelMax value="ERROR" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%n【记录时间】%date%n【描述】%message%n【错误详情】%stacktrace%n"/>
        </layout>
    </appender>

    <!-- FATAL级别日志（单独文件夹） -->
    <appender name="FatalAppender" type="log4net.Appender.RollingFileAppender">
        <file value="App_Data\\Logs\\Fatal\\" />
        <appendToFile value="true"/>
        <rollingStyle value="Composite"/>
        <DatePattern value="yyyy-MM-dd HH'.log'"/>
        <MaxSizeRollBackups value="1000"/>
        <MaximumFileSize value="500KB"/>
        <StaticLogFileName value="false"/>
        <!-- 仅记录FATAL级别日志 -->
        <filter type="log4net.Filter.LevelRangeFilter">
            <levelMin value="FATAL" />
            <levelMax value="FATAL" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%n【记录时间】%date%n【描述】%message%n【错误详情】%stacktrace%n"/>
        </layout>
    </appender>

    <!-- 控制台输出 -->
    <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%n【记录时间】%date%n【描述】%message%n"/>
        </layout>
    </appender>

    <!--定义输出到Windows事件中-->
    <appender name="EventLogAppender" type="log4net.Appender.EventLogAppender">
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%n＝＝＝＝＝＝＝＝＝＝
										  %n【日志级别】%-5level
										  %n【记录时间】%date
										  %n【线程编号】[%thread]
										  %n【执行时间】[%r]毫秒
										  %n【出错文件】%F
										  %n【出错行号】%L
										  %n【出错的类】%logger 属性[%property{NDC}]
										  %n【错误描述】%message
										  %n【错误详情】%newline"/>
        </layout>
    </appender>
    <!--定义输出到Trace中-->
    <appender name="TraceAppender" type="log4net.Appender.TraceAppender">
        <layout type="log4net.Layout.PatternLayout">
            <!--<conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline" />-->
            <conversionPattern value="%n＝＝＝＝＝＝＝＝＝＝
										  %n【日志级别】%-5level
										  %n【记录时间】%date
										  %n【线程编号】[%thread]
										  %n【执行时间】[%r]毫秒
										  %n【出错文件】%F
										  %n【出错行号】%L
										  %n【出错的类】%logger 属性[%property{NDC}]
										  %n【错误描述】%message
										  %n【错误详情】%newline"/>
        </layout>
    </appender>

    <root>
        <!--日志的级别 OFF > FATAL > ERROR > WARN > INFO > DEBUG > ALL 只有日志输出级别大于或等于配置的级别才能输出日志信息-->
        <level value="ALL" />
        <!--文件形式记录日志-->
        <appender-ref ref="DebugAppender"/>
        <appender-ref ref="InfoAppender"/>
        <appender-ref ref="WarnAppender"/>
        <appender-ref ref="ErrorAppender"/>
        <appender-ref ref="FatalAppender"/>
        <!--控制台控制显示日志-->
        <appender-ref ref="ConsoleAppender"/>
        <!--Windows事件日志-->
        <!--<appender-ref ref="EventLogAppender"/>-->
        <!--TraceAppender日志-->
        <!--<appender-ref ref="TraceAppender"/>-->
    </root>
</log4net>